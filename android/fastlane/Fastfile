# Load environment variables from .env file
require 'dotenv'
Dotenv.load('../.env')

platform :android do
  desc "New Version"
  lane :beta do

   # Navigate to Flutter root and build
       sh "cd .. && flutter clean"
       sh "cd .. && flutter build apk --release"

    # Distribute the app to Firebase App Distribution
    firebase_app_distribution(
      app: "1:493725024975:android:c53ac88e28f20f7916adba", # Replace with your Firebase App ID.
      android_artifact_path: "../build/app/outputs/flutter-apk/app-release.apk",
      android_artifact_type: "APK",
      release_notes: "Enhancement Ui",
      groups: "gazar", # Add tester group aliases.
      firebase_cli_token: ENV['FIREBASE_TOKEN'] # Path to your service account key.
    )
  end
end
